(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,a){"use strict";var r=a(5),i=a(6),n=function(){function EntityElementIdGenerator(){Object(r.a)(this,EntityElementIdGenerator)}return Object(i.a)(EntityElementIdGenerator,[{key:"getIdForSchema",value:function getIdForSchema(e,t){return this._getIdForEntity(e,t,"schema")}},{key:"getIdForTable",value:function getIdForTable(e,t){return this._getIdForEntity(e,t,"table")}},{key:"getIdForColumn",value:function getIdForColumn(e,t){return this._getIdForEntity(e,t,"column")}},{key:"_getIdForEntity",value:function _getIdForEntity(e,t,a){return"".concat(a,":").concat(e,"_").concat(t)}}]),EntityElementIdGenerator}();t.a=n},144:function(e,t,a){"use strict";a.r(t);var r=a(5),i=a(6),n=a(10),s=a(9),o=a(1),c=(a(824),a(145)),l=a(3),p=function(e){Object(n.a)(AddDatabaseForm,e);var t=Object(s.a)(AddDatabaseForm);function AddDatabaseForm(e){var a;return Object(r.a)(this,AddDatabaseForm),(a=t.call(this,e)).state={dbName:"",dbJSON:""},a}return Object(i.a)(AddDatabaseForm,[{key:"onSubmitHandler",value:function onSubmitHandler(e){e.preventDefault(),this.props.formOnSubmit(this.state.dbName,this.state.dbJSON)}},{key:"cancelHandler",value:function cancelHandler(e){e.preventDefault(),this.props.onCancelHandler()}},{key:"onDBNameChangeHandler",value:function onDBNameChangeHandler(e){this.setState({dbName:e.target.value})}},{key:"setJSONText",value:function setJSONText(e){this.setState({dbJSON:e})}},{key:"render",value:function render(){var e=this.props.disabled||!this.state.dbName||!this.state.dbJSON;return Object(l.jsxs)("div",{className:"AddDatabaseForm",children:[this.props.isLoading&&Object(l.jsx)("span",{className:"infoText",children:"Loading..."}),!this.props.isLoading&&Object(l.jsxs)("form",{onSubmit:this.onSubmitHandler.bind(this),children:[Object(l.jsx)("input",{type:"text",className:"databaseSchemaNameInput",placeholder:"Database Schema Name",value:this.state.dbName,onChange:this.onDBNameChangeHandler.bind(this),disabled:this.props.disabled,maxLength:this.props.dbNameCharLimit,required:!0}),Object(l.jsx)(c.default,{onErrorHandler:this.props.onErrorHandler,setFileText:this.setJSONText.bind(this),fileText:this.state.dbJSON,disabled:this.props.disabled,required:!0}),Object(l.jsx)("input",{className:"databaseSchemaSubmit",type:"submit",value:this.props.isSaving?"Saving...":"Add Database Schema",disabled:e}),Object(l.jsx)("button",{className:"databaseSchemaCancel",onClick:this.cancelHandler.bind(this),disabled:this.props.disabled,children:"Cancel"})]})]})}}]),AddDatabaseForm}(o.Component);t.default=p},145:function(e,t,a){"use strict";a.r(t);var r=a(5),i=a(6),n=a(10),s=a(9),o=a(1),c=(a(825),a(3)),l=function(e){Object(n.a)(TextFileInput,e);var t=Object(s.a)(TextFileInput);function TextFileInput(){return Object(r.a)(this,TextFileInput),t.apply(this,arguments)}return Object(i.a)(TextFileInput,[{key:"textAreaOnChange",value:function textAreaOnChange(e){this.props.setFileText(e.target.value)}},{key:"fileInputOnChange",value:function fileInputOnChange(e){var t=this,a=new FileReader;a.onload=function(e){return t.props.setFileText(e.target.result)};try{a.readAsText(e.target.files[0])}catch(e){this.props.onErrorHandler(e.message)}}},{key:"render",value:function render(){var e=this.props.fileText?this.props.fileText:"";return Object(c.jsxs)("div",{className:"TextFileInput",children:[Object(c.jsx)("textarea",{className:"TextFileTextArea",placeholder:"Schema JSON",onChange:this.textAreaOnChange.bind(this),value:e,disabled:this.props.disabled,required:this.props.required}),Object(c.jsx)("input",{type:"file",className:"TextFileFileInput",onChange:this.fileInputOnChange.bind(this),disabled:this.props.disabled})]})}}]),TextFileInput}(o.Component);t.default=l},146:function(e,t,a){"use strict";a.r(t);var r=a(36),i=a(5),n=a(6),s=a(10),o=a(9),c=a(1),l=(a(828),a(3)),p=function(e){Object(s.a)(AnchorList,e);var t=Object(o.a)(AnchorList);function AnchorList(){return Object(i.a)(this,AnchorList),t.apply(this,arguments)}return Object(n.a)(AnchorList,[{key:"mapAnchorListToElements",value:function mapAnchorListToElements(){var e=this,t=[];return this.props.fkSubjectTable&&t.push(this.props.fkSubjectTable),t.push.apply(t,Object(r.a)(this.props.anchorObjects)),t.map((function(t,a){return Object(l.jsx)("li",{className:e.props.fkSubjectTable&&0===a?"fkSubjectAnchor":"",children:Object(l.jsxs)("a",{href:"#"+t.anchor,className:"entityAnchor",children:[t.isMatch&&Object(l.jsx)("span",{className:"anchorIsMatchText",children:"(Match) "}),e.breakEntitiesToWords(t.label)]})},"".concat(t.anchor))}))}},{key:"breakEntitiesToWords",value:function breakEntitiesToWords(e){return e.replace(/\./g," .")}},{key:"render",value:function render(){return Object(l.jsx)("div",{className:"AnchorList",children:Object(l.jsx)("ul",{children:this.mapAnchorListToElements()})})}}]),AnchorList}(c.Component);t.default=p},147:function(e,t,a){"use strict";a.r(t);var r=a(7),i=a.n(r),n=a(12),s=a(5),o=a(6),c=a(10),l=a(9),p=a(1),d=(a(832),a(148)),h=a(69),u=a(149),m=a(3),b=function(e){Object(c.a)(DatabaseSelection,e);var t,a=Object(l.a)(DatabaseSelection);function DatabaseSelection(e){var t;return Object(s.a)(this,DatabaseSelection),(t=a.call(this,e)).state={databaseList:null,selectedDatabaseIndex:-1,hasFailedToLoad:!1},t}return Object(o.a)(DatabaseSelection,[{key:"setSelectedDatabaseIndex",value:function setSelectedDatabaseIndex(e){this.state.selectedDatabaseIndex!==e&&this.setState({selectedDatabaseIndex:e})}},{key:"deleteDatabaseAndRemoveFromList",value:(t=Object(n.a)(i.a.mark((function _callee(e){return i.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.props.apiAccessor.deleteDatabase(e);case 3:this.setState({selectedDatabaseIndex:-1,databaseList:this.state.databaseList.filter((function(t){return t.id!==e}))}),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),_callee,this,[[0,6]])}))),function deleteDatabaseAndRemoveFromList(e){return t.apply(this,arguments)})},{key:"databaseListMapper",value:function databaseListMapper(e){var t=this.props.apiAccessor,a=t?t.updateDatabaseName.bind(t):Object(n.a)(i.a.mark((function _callee2(){return i.a.wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),_callee2)})));return Object(m.jsx)(h.default,{text:e.name,textLengthLimit:this.props.dbNameCharLimit,saveChanges:function(){var t=Object(n.a)(i.a.mark((function _callee3(t){return i.a.wrap((function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a(e.id,t);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),_callee3)})));return function(e){return t.apply(this,arguments)}}(),saveErrorHandler:function saveErrorHandler(){}},e.id)}},{key:"startDatabaseListRetrieval",value:function startDatabaseListRetrieval(){var e=this;null===this.state.databaseList&&this.props.apiAccessor&&!this.state.hasFailedToLoad&&this.props.apiAccessor.getDatabaseList().then((function(t){e.setState({databaseList:t})})).catch((function(t){e.setState({hasFailedToLoad:!0,databaseList:null})}))}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.startDatabaseListRetrieval()}},{key:"componentDidMount",value:function componentDidMount(){this.startDatabaseListRetrieval()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.apiAccessor&&this.props.apiAccessor.abortRequests()}},{key:"render",value:function render(){var e=this,t=this.state.hasFailedToLoad?-1:this.state.selectedDatabaseIndex,a=t<0?-1:this.state.databaseList[t].id;return Object(m.jsxs)("div",{className:"DatabaseSelection",children:[Object(m.jsx)("header",{children:Object(m.jsx)("h1",{children:"Select a database schema below (or upload a new schema) to begin"})}),Object(m.jsx)(d.default,{selectedItemIndex:this.state.selectedDatabaseIndex,setSelectedItemIndex:this.setSelectedDatabaseIndex.bind(this),isLoading:!this.state.hasFailedToLoad&&!this.state.databaseList,hasFailedToLoad:this.state.hasFailedToLoad,children:this.state.databaseList&&this.state.databaseList.map(this.databaseListMapper.bind(this))}),Object(m.jsx)(u.default,{deleteSelectedDatabase:Object(n.a)(i.a.mark((function _callee4(){return i.a.wrap((function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.deleteDatabaseAndRemoveFromList.apply(e,[a]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),_callee4)}))),selectedDatabaseID:a})]})}}]),DatabaseSelection}(p.Component);t.default=b},148:function(e,t,a){"use strict";a.r(t);var r=a(5),i=a(6),n=a(10),s=a(9),o=a(1),c=a.n(o),l=(a(833),a(3)),p=function(e){Object(n.a)(SelectableList,e);var t=Object(s.a)(SelectableList);function SelectableList(){return Object(r.a)(this,SelectableList),t.apply(this,arguments)}return Object(i.a)(SelectableList,[{key:"childMapper",value:function childMapper(e,t){var a=this;return Object(l.jsx)("li",{className:this.props.selectedItemIndex===t?"SelectableItemSelected":"",onClick:function onClick(){return a.props.setSelectedItemIndex(t)},children:e})}},{key:"render",value:function render(){var e;return e=this.props.hasFailedToLoad?Object(l.jsx)("li",{className:"infoText",children:"An error has occurred."},0):this.props.isLoading?Object(l.jsx)("li",{className:"infoText",children:"Loading..."},0):c.a.Children.map(this.props.children,this.childMapper.bind(this)),Object(l.jsx)("div",{className:"SelectableList",children:Object(l.jsx)("ul",{children:e})})}}]),SelectableList}(o.Component);t.default=p},149:function(e,t,a){"use strict";a.r(t);var r=a(7),i=a.n(r),n=a(12),s=a(5),o=a(6),c=a(10),l=a(9),p=a(1),d=(a(835),a(225)),h=a(3),u=function(e){Object(c.a)(DatabaseListOptions,e);var t=Object(l.a)(DatabaseListOptions);function DatabaseListOptions(e){var a;return Object(s.a)(this,DatabaseListOptions),(a=t.call(this,e)).state={isDeleting:!1},a}return Object(o.a)(DatabaseListOptions,[{key:"_deleteSelectedDatabase",value:function _deleteSelectedDatabase(){var e=this;this.setState({isDeleting:!0},Object(n.a)(i.a.mark((function _callee(){return i.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.deleteSelectedDatabase();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:e.setState({isDeleting:!1});case 8:case"end":return t.stop()}}),_callee,null,[[0,5]])}))))}},{key:"render",value:function render(){var e=this,t=this.props.selectedDatabaseID<0||this.state.isDeleting;return Object(h.jsxs)("div",{className:"DatabaseListOptions",children:[Object(h.jsx)("button",{className:"loadDatabaseButton",disabled:t,onClick:function onClick(){return e.props.history.push("/view/".concat(e.props.selectedDatabaseID))},children:"Load Database"}),Object(h.jsx)("button",{className:"deleteDatabaseButton",disabled:t,onClick:function onClick(){return e._deleteSelectedDatabase()},children:this.state.isDeleting?"Deleting...":"Delete Database"}),Object(h.jsx)("button",{className:"addNewDatabaseButton",onClick:function onClick(){return e.props.history.push("/create")},disabled:this.state.isDeleting,children:"Add New Database"})]})}}]),DatabaseListOptions}(p.Component);t.default=Object(d.c)(u)},150:function(e,t,a){"use strict";a.r(t);var r=a(7),i=a.n(r),n=a(12),s=a(5),o=a(6),c=a(10),l=a(9),p=a(1),d=(a(838),a(225)),h=a(144),u=a(3),m=function(e){Object(c.a)(DatabaseAddition,e);var t=Object(l.a)(DatabaseAddition);function DatabaseAddition(e){var a;return Object(s.a)(this,DatabaseAddition),(a=t.call(this,e)).state={isCreating:!1},a}return Object(o.a)(DatabaseAddition,[{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.apiAccessor&&this.props.apiAccessor.abortRequests()}},{key:"onCancelHandler",value:function onCancelHandler(){this.props.history.push("/")}},{key:"databaseAdditionHandler",value:function databaseAdditionHandler(e,t){var a=this;this.setState({isCreating:!0},Object(n.a)(i.a.mark((function _callee(){return i.a.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a.props.apiAccessor.createDatabase(JSON.stringify({name:e,schemas:JSON.parse(t)}));case 3:r.next=7;break;case 5:r.prev=5,r.t0=r.catch(0);case 7:a.props.history.push("/");case 8:case"end":return r.stop()}}),_callee,null,[[0,5]])}))))}},{key:"render",value:function render(){var e=!this.props.apiAccessor,t=e||this.state.isCreating;return Object(u.jsxs)("div",{className:"DatabaseAddition",children:[Object(u.jsx)("header",{children:Object(u.jsx)("h1",{children:"Add a database schema"})}),Object(u.jsx)(h.default,{formOnSubmit:this.databaseAdditionHandler.bind(this),onErrorHandler:this.props.onErrorHandler,onCancelHandler:this.onCancelHandler.bind(this),isLoading:e,disabled:t,isSaving:this.state.isCreating,dbNameCharLimit:this.props.dbNameCharLimit})]})}}]),DatabaseAddition}(p.Component);t.default=Object(d.c)(m)},151:function(e,t,a){"use strict";a.r(t);var r=a(17),i=a(5),n=a(6),s=a(10),o=a(9),c=a(1),l=(a(840),a(3)),p=function(e){Object(s.a)(DatabaseEntityFilterOptions,e);var t=Object(o.a)(DatabaseEntityFilterOptions);function DatabaseEntityFilterOptions(e){var a;return Object(i.a)(this,DatabaseEntityFilterOptions),(a=t.call(this,e)).state=Object(r.a)(Object(r.a)(Object(r.a)({},a.getClearedTextHandlerState()),a.getClearedFKHandlerState()),{},{includeDescriptionText:!1}),a}return Object(n.a)(DatabaseEntityFilterOptions,[{key:"runTextFilterHandler",value:function runTextFilterHandler(){this.setState(this.getClearedFKHandlerState()),this.props.runTextFilter(this.state.filterSchemaText,this.state.filterTableText,this.state.filterColumnText,this.state.includeDescriptionText)}},{key:"getClearedTextHandlerState",value:function getClearedTextHandlerState(){return{filterSchemaText:"",filterTableText:"",filterColumnText:""}}},{key:"clearTextFilter",value:function clearTextFilter(){this.setState(this.getClearedTextHandlerState()),this.props.runTextFilter("","","",this.state.includeDescriptionText)}},{key:"runFKFilterHandler",value:function runFKFilterHandler(){this.setState(this.getClearedTextHandlerState()),this.props.runFkFilter(this.state.fkSelectedTableID)}},{key:"getClearedFKHandlerState",value:function getClearedFKHandlerState(){return{fkSelectedSchemaID:-1,fkSelectedTableID:-1}}},{key:"clearFKFilter",value:function clearFKFilter(){this.setState(this.getClearedFKHandlerState()),this.props.runTextFilter("","","",this.state.includeDescriptionText)}},{key:"schemaSelectOptionsMapper",value:function schemaSelectOptionsMapper(){return this.props.schemas.map((function(e,t){return Object(l.jsx)("option",{value:e.id,children:e.name},t)}))}},{key:"tableSelectOptionsMapper",value:function tableSelectOptionsMapper(){var e=this.state.fkSelectedSchemaID;if(!(e<0))return this.props.schemas.filter((function(t){return t.id===e}))[0].childEntities.map((function(e,t){return Object(l.jsx)("option",{value:e.id,children:e.name},t)}))}},{key:"render",value:function render(){var e=this;return Object(l.jsxs)("div",{className:"DatabaseEntityFilterOptions",children:[Object(l.jsx)("hr",{}),Object(l.jsxs)("div",{className:"FilterOptionsRow textFilterOptions",children:[Object(l.jsxs)("div",{className:"FilterOptionsControl",children:[Object(l.jsx)("label",{children:"Schema Filter: "}),Object(l.jsx)("input",{type:"text",className:"textFilterInput schemaTextFilterInput",size:"10",value:this.state.filterSchemaText,onChange:function onChange(t){return e.setState({filterSchemaText:t.target.value})}})]}),Object(l.jsxs)("div",{className:"FilterOptionsControl",children:[Object(l.jsx)("label",{children:"Table Filter: "}),Object(l.jsx)("input",{type:"text",className:"textFilterInput tableTextFilterInput",size:"10",value:this.state.filterTableText,onChange:function onChange(t){return e.setState({filterTableText:t.target.value})}})]}),Object(l.jsxs)("div",{className:"FilterOptionsControl",children:[Object(l.jsx)("label",{children:"Column Filter: "}),Object(l.jsx)("input",{type:"text",className:"textFilterInput columnTextFilterInput",size:"10",value:this.state.filterColumnText,onChange:function onChange(t){return e.setState({filterColumnText:t.target.value})}})]}),Object(l.jsxs)("div",{className:"FilterOptionsControl",children:[Object(l.jsx)("label",{children:"Include description text in filter? "}),Object(l.jsx)("input",{type:"checkBox",className:"descFilterCheckbox",checked:this.state.includeDescriptionText,onChange:function onChange(t){return e.setState({includeDescriptionText:t.target.checked})}})]}),Object(l.jsxs)("div",{className:"FilterOptionsControl filterOptionsControlBtns",children:[Object(l.jsx)("button",{onClick:this.runTextFilterHandler.bind(this),className:"textFilterRunBtn",children:"Filter"}),Object(l.jsx)("button",{onClick:this.clearTextFilter.bind(this),className:"textFilterClearBtn",children:"Clear"})]})]}),Object(l.jsx)("hr",{}),Object(l.jsxs)("div",{className:"FilterOptionsRow fkFilterOptions",children:[Object(l.jsx)("h2",{children:"Find Foreign Keys of: "}),Object(l.jsxs)("div",{className:"FilterOptionsControl",children:[Object(l.jsx)("label",{children:"Schema: "}),Object(l.jsxs)("select",{value:this.state.fkSelectedSchemaID,onChange:function onChange(t){return e.setState({fkSelectedSchemaID:Number(t.target.value),fkSelectedTableID:-1})},className:"fkEntitySelect fkSchemaSelect",children:[Object(l.jsx)("option",{value:"-1"}),this.schemaSelectOptionsMapper.apply(this)]})]}),Object(l.jsxs)("div",{className:"FilterOptionsControl",children:[Object(l.jsx)("label",{children:"Table: "}),Object(l.jsxs)("select",{value:this.state.fkSelectedTableID,onChange:function onChange(t){return e.setState({fkSelectedTableID:Number(t.target.value)})},className:"fkEntitySelect fkTableSelect",children:[Object(l.jsx)("option",{value:"-1"}),this.tableSelectOptionsMapper.apply(this)]})]}),Object(l.jsxs)("div",{className:"FilterOptionsControl filterOptionsControlBtns",children:[Object(l.jsx)("button",{onClick:this.runFKFilterHandler.bind(this),disabled:this.state.fkSelectedTableID<0,className:"fkFilterRunBtn",children:"Find"}),Object(l.jsx)("button",{onClick:this.clearFKFilter.bind(this),className:"fkFilterClearBtn",children:"Clear"})]})]})]})}}]),DatabaseEntityFilterOptions}(c.Component);t.default=p},152:function(e,t,a){"use strict";a.r(t);var r=a(36),i=a(7),n=a.n(i),s=a(12),o=a(5),c=a(6),l=a(10),p=a(9),d=a(1),h=(a(841),a(107)),u=a(153),m=a(3),b=function(e){Object(l.a)(DatabaseEntityList,e);var t=Object(p.a)(DatabaseEntityList);function DatabaseEntityList(e){var a;return Object(o.a)(this,DatabaseEntityList),(a=t.call(this,e)).state={elemIdGenerator:new h.a,entityLayerIdMethods:["getIdForSchema","getIdForTable","getIdForColumn"],entityLayerEntityTypes:["schemas","tables","columns"]},a}return Object(c.a)(DatabaseEntityList,[{key:"mapPassedSchemasToListItems",value:function mapPassedSchemasToListItems(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.map((function(e,r){var i=a&&0===r;return Object(m.jsx)("li",{className:i?"subjectEntityRecord":"",children:t.mapEntityToComponent(e,i?1:0)},r)}))}},{key:"mapEntityToComponent",value:function mapEntityToComponent(e,t){var a,r,i=this,o=this.props.apiAccessor,c=o?o.updateEntityDescription.bind(o):Object(s.a)(n.a.mark((function _callee(){return n.a.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),_callee)}))),l=this.state.entityLayerEntityTypes[t],p=this.state.elemIdGenerator[this.state.entityLayerIdMethods[t]](e.id,e.name);return e.fkToTableId&&(r=(a=this.props.tableLabels.filter((function(t){return t.entityID===e.fkToTableId}))).length>0?a[0].label:"Unable to identify table."),Object(m.jsx)(u.default,{elementID:p,name:e.name,description:e.description,color:e.color,isMatch:e.isMatch,fkToSchemaTableName:r,saveDescriptionChanges:function(){var t=Object(s.a)(n.a.mark((function _callee2(t){return n.a.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return e.description=t,a.next=3,c(l,e.id,t);case 3:case"end":return a.stop()}}),_callee2)})));return function(e){return t.apply(this,arguments)}}(),saveDescriptionErrorHandler:function saveDescriptionErrorHandler(){},descriptionCharLengthLimit:this.props.entityDescCharLimit,children:e.childEntities&&e.childEntities.map((function(e){return i.mapEntityToComponent(e,t+1)}))},p)}},{key:"render",value:function render(){var e=!!this.props.subjectTableEntity,t=[];return e&&t.push(this.props.subjectTableEntity),t.push.apply(t,Object(r.a)(this.props.entityList)),Object(m.jsx)("div",{className:"DatabaseEntityList",children:Object(m.jsx)("ul",{children:this.mapPassedSchemasToListItems(t,e)})})}}]),DatabaseEntityList}(d.Component);t.default=b},153:function(e,t,a){"use strict";a.r(t);var r=a(5),i=a(6),n=a(10),s=a(9),o=a(1),c=a.n(o),l=(a(842),a(69)),p=a(3),d=function(e){Object(n.a)(DatabaseEntity,e);var t=Object(s.a)(DatabaseEntity);function DatabaseEntity(){return Object(r.a)(this,DatabaseEntity),t.apply(this,arguments)}return Object(i.a)(DatabaseEntity,[{key:"childEntityToLiMapper",value:function childEntityToLiMapper(e,t){return Object(p.jsx)("li",{children:e},"dbEntityList-"+t)}},{key:"render",value:function render(){var e={backgroundColor:this.props.color},t="DatabaseEntity",a=this.props.isMatch?"".concat(t," ").concat("matchingDatabaseEntity"):t;return Object(p.jsxs)("div",{className:a,style:e,id:this.props.elementID,children:[Object(p.jsx)("h1",{className:"dbEntityName",children:this.props.name}),Object(p.jsxs)("div",{className:"entityDescription entityDetailLine",children:[Object(p.jsx)("label",{children:"Description: "}),Object(p.jsx)(l.default,{text:this.props.description,saveChanges:this.props.saveDescriptionChanges,saveErrorHandler:this.props.saveDescriptionErrorHandler,textLengthLimit:this.props.descriptionCharLengthLimit})]}),this.props.fkToSchemaTableName&&Object(p.jsxs)("div",{className:"fkToTableInfo entityDetailLine",children:[Object(p.jsx)("label",{className:"fkToTableLabel",children:"Foreign key to table: "}),Object(p.jsx)("span",{className:"fkToTableName",children:this.props.fkToSchemaTableName})]}),c.a.Children.toArray(this.props.children).length>0&&Object(p.jsx)("ul",{children:c.a.Children.map(this.props.children,this.childEntityToLiMapper.bind(this))})]})}}]),DatabaseEntity}(o.Component);t.default=d},154:function(e,t,a){"use strict";a.r(t);var r=a(5),i=a(6),n=a(10),s=a(9),o=a(1),c=(a(843),a(3)),l=function(e){Object(n.a)(ErrorMessage,e);var t=Object(s.a)(ErrorMessage);function ErrorMessage(){return Object(r.a)(this,ErrorMessage),t.apply(this,arguments)}return Object(i.a)(ErrorMessage,[{key:"render",value:function render(){return Object(c.jsxs)("div",{className:"ErrorMessage",children:[Object(c.jsx)("button",{className:"ErrorMessageCloseBtn",onClick:this.props.closeButtonOnClick,children:"x"}),Object(c.jsx)("span",{className:"ErrorMessagePrefix",children:"Error: "}),this.props.errorText]})}}]),ErrorMessage}(o.Component);t.default=l},155:function(e,t,a){"use strict";a.r(t);var r=a(5),i=a(6),n=a(10),s=a(9),o=a(1),c=a.n(o),l=(a(844),a(3)),p=function(e){Object(n.a)(ErrorDisplay,e);var t=Object(s.a)(ErrorDisplay);function ErrorDisplay(){return Object(r.a)(this,ErrorDisplay),t.apply(this,arguments)}return Object(i.a)(ErrorDisplay,[{key:"childMapper",value:function childMapper(e){return Object(l.jsx)("li",{children:e})}},{key:"render",value:function render(){return Object(l.jsx)("div",{className:"ErrorDisplay",children:Object(l.jsx)("ul",{children:c.a.Children.map(this.props.children,this.childMapper.bind(this))})})}}]),ErrorDisplay}(o.Component);t.default=p},156:function(e,t,a){"use strict";a.r(t);var r=a(224),i=a(5),n=a(6),s=a(10),o=a(9),c=a(1),l=(a(839),a(225)),p=a(36),d=a(17),h=function(){function FilterableSchemaList(e,t,a,r){Object(i.a)(this,FilterableSchemaList),this._schemaColor=t,this._tableColor=a,this._columnColor=r,this._fullList=this._reshapeEntities(e)}return Object(n.a)(FilterableSchemaList,[{key:"schemaColor",get:function get(){return this._schemaColor}},{key:"tableColor",get:function get(){return this._tableColor}},{key:"columnColor",get:function get(){return this._columnColor}},{key:"getFullList",value:function getFullList(){return this._fullList}},{key:"_reshapeEntities",value:function _reshapeEntities(e){var t=this;return e.map((function(e,a){t._throwIfEntityMissingRequiredProperties(e,["name","description","tables"],"schema",a),t._throwIfEntityChildListIsNotArray(e,"tables","schema",a);var r=Object(d.a)({},e);return r.childEntities=r.tables.map((function(e){t._throwIfEntityMissingRequiredProperties(e,["name","description","columns"],"table",a),t._throwIfEntityChildListIsNotArray(e,"columns","table",a);var r=Object(d.a)({},e);return r.childEntities=r.columns.map((function(e){return t._throwIfEntityMissingRequiredProperties(e,["name","description"],"column",a),t._addNewPropertiesToEntity(Object(d.a)({},e),t._columnColor)})),delete r.columns,t._addNewPropertiesToEntity(r,t._tableColor),r})),delete r.tables,t._addNewPropertiesToEntity(r,t._schemaColor),r}))}},{key:"_throwIfEntityMissingRequiredProperties",value:function _throwIfEntityMissingRequiredProperties(e,t,a,r){t.forEach((function(t){if(!e.hasOwnProperty(t))throw new Error("Error while processing list of schemas: at index ".concat(r," in the schema array, there is a ").concat(a," that did not include the '").concat(t,"' property"))}))}},{key:"_throwIfEntityChildListIsNotArray",value:function _throwIfEntityChildListIsNotArray(e,t,a,r){if(!Array.isArray(e[t]))throw new Error("Error while processing list of schemas: at index ".concat(r," in the schema array, there is a '").concat(t,"' property of a ").concat(a," that was not an array"))}},{key:"_addNewPropertiesToEntity",value:function _addNewPropertiesToEntity(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.isMatch=a,e.color=t,e}},{key:"getFilteredList",value:function getFilteredList(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this._getListWithIsMatchSet(e,t,a,r);return i.reduce((function(e,t){if(t.isMatch)e.push(t);else{var a=Object(d.a)({},t);a.childEntities=t.childEntities.reduce((function(e,t){if(t.isMatch)e.push(t);else{var a=Object(d.a)({},t);a.childEntities=t.childEntities.filter((function(e){return e.isMatch})),a.childEntities.length>0&&e.push(a)}return e}),[]),a.childEntities.length>0&&e.push(a)}return e}),[])}},{key:"_getListWithIsMatchSet",value:function _getListWithIsMatchSet(e,t,a){var r=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this._fullList.map((function(n){var s=Object(d.a)({},n);return s.isMatch=r._entityMatchesFilterText(s,e,i),s.childEntities=s.childEntities.map((function(e){var n=Object(d.a)({},e);return n.isMatch=r._entityMatchesFilterText(n,t,i),n.childEntities=n.childEntities.map((function(e){var t=Object(d.a)({},e);return t.isMatch=r._entityMatchesFilterText(e,a,i),t})),n})),s}))}},{key:"_entityMatchesFilterText",value:function _entityMatchesFilterText(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function textMatches(e){return""!==t&&e.toLowerCase().includes(t)};return r(e.name)||a&&r(e.description)}},{key:"getForeignKeysToTable",value:function getForeignKeysToTable(e){var t,a,r=this._fullList.reduce((function(r,i){var n=Object(d.a)({},i);return n.childEntities=i.childEntities.reduce((function(r,n){return n.id===e?(t=n,a=i.name,r):n.childEntities.filter((function(t){return t.hasOwnProperty("fkToTableId")&&t.fkToTableId===e})).length>0?[].concat(Object(p.a)(r),[Object(d.a)(Object(d.a)({},n),{},{isMatch:!0})]):r}),[]),n.childEntities.length>0?[].concat(Object(p.a)(r),[n]):r}),[]);if(!t)throw new Error("Error while searching for foreign keys to a table: the target table does not exist");return[t,a,r]}}]),FilterableSchemaList}(),u=a(107),m=function(){function DbEntityAnchorMapper(){Object(i.a)(this,DbEntityAnchorMapper),this.idGenerator=new u.a,this.idGeneratorLayerMethods=["getIdForSchema","getIdForTable","getIdForColumn"],this.layerEntityTypes=["schema","table","column"]}return Object(n.a)(DbEntityAnchorMapper,[{key:"map",value:function map(e){return this._mapEntityListForLayer(e,0,"")}},{key:"mapSingleTable",value:function mapSingleTable(e,t){return this._mapEntityListForLayer([e],1,t)[0]}},{key:"_mapEntityListForLayer",value:function _mapEntityListForLayer(e,t,a){var r=this;if(t>=this.idGeneratorLayerMethods.length||t>=this.layerEntityTypes.length||t<0)return[];var i=this.idGeneratorLayerMethods[t],n=[];return e.forEach((function(e){var s={anchor:r.idGenerator[i](e.id,e.name),isMatch:e.isMatch,label:(""!==a?"".concat(a,"."):"")+e.name,entityID:e.id,entityType:r.layerEntityTypes[t]};n.push(s),n.push.apply(n,Object(p.a)(r._mapEntityListForLayer(e.childEntities,t+1,s.label)))})),n}}]),DbEntityAnchorMapper}(),b=a(151),j=a(146),y=a(152),_=a(3),S=function(e){Object(s.a)(DatabaseViewer,e);var t=Object(o.a)(DatabaseViewer);function DatabaseViewer(e){var a;Object(i.a)(this,DatabaseViewer);var r="#3bdbd9",n="#db7e70",s="#dbbb70";return(a=t.call(this,e)).state={dbName:null,dbSchemas:new h([],r,n,s),filteredList:[],fkFilterSubjectTable:null,fkFilterSchemaName:"",anchorMapper:new m,fullTableAnchorsList:[],hasFailedToLoad:!1,schemaColor:r,tableColor:n,columnColor:s},a}return Object(n.a)(DatabaseViewer,[{key:"returnToMenu",value:function returnToMenu(){this.props.history.push("/")}},{key:"startDatabaseRetrieval",value:function startDatabaseRetrieval(){var e=this,t=Number(window.location.pathname.split("/")[2]);if(null===this.state.dbName&&this.props.apiAccessor&&!this.state.hasFailedToLoad){var a=this.state.schemaColor,r=this.state.tableColor,i=this.state.columnColor;this.props.apiAccessor.getDatabaseByID(t).then((function(t){var n=new h(t.schemas,a,r,i),s=n.getFullList(),o=e.state.anchorMapper.map(s).filter((function(e){return"table"===e.entityType}));e.setState({dbName:t.name,dbSchemas:n,filteredList:s,fullTableAnchorsList:o})})).catch((function(t){e.setState({hasFailedToLoad:!0,dbName:null,dbSchemas:new h([],a,r,i),filterableList:[],fkFilterSubjectTable:null})}))}}},{key:"runTextFilter",value:function runTextFilter(e,t,a,r){var i=e||t||a?this.state.dbSchemas.getFilteredList(e,t,a,r):this.state.dbSchemas.getFullList();this.setState({fkFilterSubjectTable:null,filteredList:i})}},{key:"runFkFilter",value:function runFkFilter(e){var t=this.state.dbSchemas.getForeignKeysToTable(e),a=Object(r.a)(t,3),i=a[0],n=a[1],s=a[2];this.setState({fkFilterSubjectTable:i,fkFilterSchemaName:n,filteredList:s})}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.startDatabaseRetrieval()}},{key:"componentDidMount",value:function componentDidMount(){this.startDatabaseRetrieval()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.apiAccessor&&this.props.apiAccessor.abortRequests()}},{key:"render",value:function render(){var e,t=this.state.anchorMapper,a=t.map(this.state.filteredList),r=this.state.fkFilterSubjectTable?t.mapSingleTable(this.state.fkFilterSubjectTable,this.state.fkFilterSchemaName):null;return e=!this.state.hasFailedToLoad&&!this.state.dbName?"Loading...":this.state.dbName?this.state.dbName:"Error",Object(_.jsxs)("div",{className:"DatabaseViewer",children:[Object(_.jsxs)("header",{children:[Object(_.jsxs)("div",{className:"dbViewerHeaderRow",children:[Object(_.jsx)("button",{className:"dbViewerMenuBtn",onClick:this.returnToMenu.bind(this),children:"Main Menu"}),Object(_.jsx)("h1",{className:"dbViewerTitle",children:e})]}),Object(_.jsx)("div",{className:"dbViewerHeaderRow",children:Object(_.jsx)(b.default,{schemas:this.state.dbSchemas.getFullList(),runTextFilter:this.runTextFilter.bind(this),runFkFilter:this.runFkFilter.bind(this)})})]}),Object(_.jsxs)("div",{className:"dbViewerContentContainer",children:[Object(_.jsx)(j.default,{anchorObjects:a,fkSubjectTable:r}),Object(_.jsx)(y.default,{entityList:this.state.filteredList,subjectTableEntity:this.state.fkFilterSubjectTable,tableLabels:this.state.fullTableAnchorsList,entityDescCharLimit:this.props.entityDescCharLimit,apiAccessor:this.props.apiAccessor})]})]})}}]),DatabaseViewer}(c.Component);t.default=Object(l.c)(S)},228:function(e,t,a){e.exports=a(858)},408:function(e,t,a){var r={"./Binary_Property/ASCII.js":409,"./Binary_Property/ASCII_Hex_Digit.js":410,"./Binary_Property/Alphabetic.js":411,"./Binary_Property/Any.js":412,"./Binary_Property/Assigned.js":413,"./Binary_Property/Bidi_Control.js":414,"./Binary_Property/Bidi_Mirrored.js":415,"./Binary_Property/Case_Ignorable.js":416,"./Binary_Property/Cased.js":417,"./Binary_Property/Changes_When_Casefolded.js":418,"./Binary_Property/Changes_When_Casemapped.js":419,"./Binary_Property/Changes_When_Lowercased.js":420,"./Binary_Property/Changes_When_NFKC_Casefolded.js":421,"./Binary_Property/Changes_When_Titlecased.js":422,"./Binary_Property/Changes_When_Uppercased.js":423,"./Binary_Property/Dash.js":424,"./Binary_Property/Default_Ignorable_Code_Point.js":425,"./Binary_Property/Deprecated.js":426,"./Binary_Property/Diacritic.js":427,"./Binary_Property/Emoji.js":428,"./Binary_Property/Emoji_Component.js":429,"./Binary_Property/Emoji_Modifier.js":430,"./Binary_Property/Emoji_Modifier_Base.js":431,"./Binary_Property/Emoji_Presentation.js":432,"./Binary_Property/Extended_Pictographic.js":433,"./Binary_Property/Extender.js":434,"./Binary_Property/Grapheme_Base.js":435,"./Binary_Property/Grapheme_Extend.js":436,"./Binary_Property/Hex_Digit.js":437,"./Binary_Property/IDS_Binary_Operator.js":438,"./Binary_Property/IDS_Trinary_Operator.js":439,"./Binary_Property/ID_Continue.js":440,"./Binary_Property/ID_Start.js":441,"./Binary_Property/Ideographic.js":442,"./Binary_Property/Join_Control.js":443,"./Binary_Property/Logical_Order_Exception.js":444,"./Binary_Property/Lowercase.js":445,"./Binary_Property/Math.js":446,"./Binary_Property/Noncharacter_Code_Point.js":447,"./Binary_Property/Pattern_Syntax.js":448,"./Binary_Property/Pattern_White_Space.js":449,"./Binary_Property/Quotation_Mark.js":450,"./Binary_Property/Radical.js":451,"./Binary_Property/Regional_Indicator.js":452,"./Binary_Property/Sentence_Terminal.js":453,"./Binary_Property/Soft_Dotted.js":454,"./Binary_Property/Terminal_Punctuation.js":455,"./Binary_Property/Unified_Ideograph.js":456,"./Binary_Property/Uppercase.js":457,"./Binary_Property/Variation_Selector.js":458,"./Binary_Property/White_Space.js":459,"./Binary_Property/XID_Continue.js":460,"./Binary_Property/XID_Start.js":461,"./General_Category/Cased_Letter.js":462,"./General_Category/Close_Punctuation.js":463,"./General_Category/Connector_Punctuation.js":464,"./General_Category/Control.js":465,"./General_Category/Currency_Symbol.js":466,"./General_Category/Dash_Punctuation.js":467,"./General_Category/Decimal_Number.js":468,"./General_Category/Enclosing_Mark.js":469,"./General_Category/Final_Punctuation.js":470,"./General_Category/Format.js":471,"./General_Category/Initial_Punctuation.js":472,"./General_Category/Letter.js":473,"./General_Category/Letter_Number.js":474,"./General_Category/Line_Separator.js":475,"./General_Category/Lowercase_Letter.js":476,"./General_Category/Mark.js":477,"./General_Category/Math_Symbol.js":478,"./General_Category/Modifier_Letter.js":479,"./General_Category/Modifier_Symbol.js":480,"./General_Category/Nonspacing_Mark.js":481,"./General_Category/Number.js":482,"./General_Category/Open_Punctuation.js":483,"./General_Category/Other.js":484,"./General_Category/Other_Letter.js":485,"./General_Category/Other_Number.js":486,"./General_Category/Other_Punctuation.js":487,"./General_Category/Other_Symbol.js":488,"./General_Category/Paragraph_Separator.js":489,"./General_Category/Private_Use.js":490,"./General_Category/Punctuation.js":491,"./General_Category/Separator.js":492,"./General_Category/Space_Separator.js":493,"./General_Category/Spacing_Mark.js":494,"./General_Category/Surrogate.js":495,"./General_Category/Symbol.js":496,"./General_Category/Titlecase_Letter.js":497,"./General_Category/Unassigned.js":498,"./General_Category/Uppercase_Letter.js":499,"./Script/Adlam.js":500,"./Script/Ahom.js":501,"./Script/Anatolian_Hieroglyphs.js":502,"./Script/Arabic.js":503,"./Script/Armenian.js":504,"./Script/Avestan.js":505,"./Script/Balinese.js":506,"./Script/Bamum.js":507,"./Script/Bassa_Vah.js":508,"./Script/Batak.js":509,"./Script/Bengali.js":510,"./Script/Bhaiksuki.js":511,"./Script/Bopomofo.js":512,"./Script/Brahmi.js":513,"./Script/Braille.js":514,"./Script/Buginese.js":515,"./Script/Buhid.js":516,"./Script/Canadian_Aboriginal.js":517,"./Script/Carian.js":518,"./Script/Caucasian_Albanian.js":519,"./Script/Chakma.js":520,"./Script/Cham.js":521,"./Script/Cherokee.js":522,"./Script/Chorasmian.js":523,"./Script/Common.js":524,"./Script/Coptic.js":525,"./Script/Cuneiform.js":526,"./Script/Cypriot.js":527,"./Script/Cyrillic.js":528,"./Script/Deseret.js":529,"./Script/Devanagari.js":530,"./Script/Dives_Akuru.js":531,"./Script/Dogra.js":532,"./Script/Duployan.js":533,"./Script/Egyptian_Hieroglyphs.js":534,"./Script/Elbasan.js":535,"./Script/Elymaic.js":536,"./Script/Ethiopic.js":537,"./Script/Georgian.js":538,"./Script/Glagolitic.js":539,"./Script/Gothic.js":540,"./Script/Grantha.js":541,"./Script/Greek.js":542,"./Script/Gujarati.js":543,"./Script/Gunjala_Gondi.js":544,"./Script/Gurmukhi.js":545,"./Script/Han.js":546,"./Script/Hangul.js":547,"./Script/Hanifi_Rohingya.js":548,"./Script/Hanunoo.js":549,"./Script/Hatran.js":550,"./Script/Hebrew.js":551,"./Script/Hiragana.js":552,"./Script/Imperial_Aramaic.js":553,"./Script/Inherited.js":554,"./Script/Inscriptional_Pahlavi.js":555,"./Script/Inscriptional_Parthian.js":556,"./Script/Javanese.js":557,"./Script/Kaithi.js":558,"./Script/Kannada.js":559,"./Script/Katakana.js":560,"./Script/Kayah_Li.js":561,"./Script/Kharoshthi.js":562,"./Script/Khitan_Small_Script.js":563,"./Script/Khmer.js":564,"./Script/Khojki.js":565,"./Script/Khudawadi.js":566,"./Script/Lao.js":567,"./Script/Latin.js":568,"./Script/Lepcha.js":569,"./Script/Limbu.js":570,"./Script/Linear_A.js":571,"./Script/Linear_B.js":572,"./Script/Lisu.js":573,"./Script/Lycian.js":574,"./Script/Lydian.js":575,"./Script/Mahajani.js":576,"./Script/Makasar.js":577,"./Script/Malayalam.js":578,"./Script/Mandaic.js":579,"./Script/Manichaean.js":580,"./Script/Marchen.js":581,"./Script/Masaram_Gondi.js":582,"./Script/Medefaidrin.js":583,"./Script/Meetei_Mayek.js":584,"./Script/Mende_Kikakui.js":585,"./Script/Meroitic_Cursive.js":586,"./Script/Meroitic_Hieroglyphs.js":587,"./Script/Miao.js":588,"./Script/Modi.js":589,"./Script/Mongolian.js":590,"./Script/Mro.js":591,"./Script/Multani.js":592,"./Script/Myanmar.js":593,"./Script/Nabataean.js":594,"./Script/Nandinagari.js":595,"./Script/New_Tai_Lue.js":596,"./Script/Newa.js":597,"./Script/Nko.js":598,"./Script/Nushu.js":599,"./Script/Nyiakeng_Puachue_Hmong.js":600,"./Script/Ogham.js":601,"./Script/Ol_Chiki.js":602,"./Script/Old_Hungarian.js":603,"./Script/Old_Italic.js":604,"./Script/Old_North_Arabian.js":605,"./Script/Old_Permic.js":606,"./Script/Old_Persian.js":607,"./Script/Old_Sogdian.js":608,"./Script/Old_South_Arabian.js":609,"./Script/Old_Turkic.js":610,"./Script/Oriya.js":611,"./Script/Osage.js":612,"./Script/Osmanya.js":613,"./Script/Pahawh_Hmong.js":614,"./Script/Palmyrene.js":615,"./Script/Pau_Cin_Hau.js":616,"./Script/Phags_Pa.js":617,"./Script/Phoenician.js":618,"./Script/Psalter_Pahlavi.js":619,"./Script/Rejang.js":620,"./Script/Runic.js":621,"./Script/Samaritan.js":622,"./Script/Saurashtra.js":623,"./Script/Sharada.js":624,"./Script/Shavian.js":625,"./Script/Siddham.js":626,"./Script/SignWriting.js":627,"./Script/Sinhala.js":628,"./Script/Sogdian.js":629,"./Script/Sora_Sompeng.js":630,"./Script/Soyombo.js":631,"./Script/Sundanese.js":632,"./Script/Syloti_Nagri.js":633,"./Script/Syriac.js":634,"./Script/Tagalog.js":635,"./Script/Tagbanwa.js":636,"./Script/Tai_Le.js":637,"./Script/Tai_Tham.js":638,"./Script/Tai_Viet.js":639,"./Script/Takri.js":640,"./Script/Tamil.js":641,"./Script/Tangut.js":642,"./Script/Telugu.js":643,"./Script/Thaana.js":644,"./Script/Thai.js":645,"./Script/Tibetan.js":646,"./Script/Tifinagh.js":647,"./Script/Tirhuta.js":648,"./Script/Ugaritic.js":649,"./Script/Vai.js":650,"./Script/Wancho.js":651,"./Script/Warang_Citi.js":652,"./Script/Yezidi.js":653,"./Script/Yi.js":654,"./Script/Zanabazar_Square.js":655,"./Script_Extensions/Adlam.js":656,"./Script_Extensions/Ahom.js":657,"./Script_Extensions/Anatolian_Hieroglyphs.js":658,"./Script_Extensions/Arabic.js":659,"./Script_Extensions/Armenian.js":660,"./Script_Extensions/Avestan.js":661,"./Script_Extensions/Balinese.js":662,"./Script_Extensions/Bamum.js":663,"./Script_Extensions/Bassa_Vah.js":664,"./Script_Extensions/Batak.js":665,"./Script_Extensions/Bengali.js":666,"./Script_Extensions/Bhaiksuki.js":667,"./Script_Extensions/Bopomofo.js":668,"./Script_Extensions/Brahmi.js":669,"./Script_Extensions/Braille.js":670,"./Script_Extensions/Buginese.js":671,"./Script_Extensions/Buhid.js":672,"./Script_Extensions/Canadian_Aboriginal.js":673,"./Script_Extensions/Carian.js":674,"./Script_Extensions/Caucasian_Albanian.js":675,"./Script_Extensions/Chakma.js":676,"./Script_Extensions/Cham.js":677,"./Script_Extensions/Cherokee.js":678,"./Script_Extensions/Chorasmian.js":679,"./Script_Extensions/Common.js":680,"./Script_Extensions/Coptic.js":681,"./Script_Extensions/Cuneiform.js":682,"./Script_Extensions/Cypriot.js":683,"./Script_Extensions/Cyrillic.js":684,"./Script_Extensions/Deseret.js":685,"./Script_Extensions/Devanagari.js":686,"./Script_Extensions/Dives_Akuru.js":687,"./Script_Extensions/Dogra.js":688,"./Script_Extensions/Duployan.js":689,"./Script_Extensions/Egyptian_Hieroglyphs.js":690,"./Script_Extensions/Elbasan.js":691,"./Script_Extensions/Elymaic.js":692,"./Script_Extensions/Ethiopic.js":693,"./Script_Extensions/Georgian.js":694,"./Script_Extensions/Glagolitic.js":695,"./Script_Extensions/Gothic.js":696,"./Script_Extensions/Grantha.js":697,"./Script_Extensions/Greek.js":698,"./Script_Extensions/Gujarati.js":699,"./Script_Extensions/Gunjala_Gondi.js":700,"./Script_Extensions/Gurmukhi.js":701,"./Script_Extensions/Han.js":702,"./Script_Extensions/Hangul.js":703,"./Script_Extensions/Hanifi_Rohingya.js":704,"./Script_Extensions/Hanunoo.js":705,"./Script_Extensions/Hatran.js":706,"./Script_Extensions/Hebrew.js":707,"./Script_Extensions/Hiragana.js":708,"./Script_Extensions/Imperial_Aramaic.js":709,"./Script_Extensions/Inherited.js":710,"./Script_Extensions/Inscriptional_Pahlavi.js":711,"./Script_Extensions/Inscriptional_Parthian.js":712,"./Script_Extensions/Javanese.js":713,"./Script_Extensions/Kaithi.js":714,"./Script_Extensions/Kannada.js":715,"./Script_Extensions/Katakana.js":716,"./Script_Extensions/Kayah_Li.js":717,"./Script_Extensions/Kharoshthi.js":718,"./Script_Extensions/Khitan_Small_Script.js":719,"./Script_Extensions/Khmer.js":720,"./Script_Extensions/Khojki.js":721,"./Script_Extensions/Khudawadi.js":722,"./Script_Extensions/Lao.js":723,"./Script_Extensions/Latin.js":724,"./Script_Extensions/Lepcha.js":725,"./Script_Extensions/Limbu.js":726,"./Script_Extensions/Linear_A.js":727,"./Script_Extensions/Linear_B.js":728,"./Script_Extensions/Lisu.js":729,"./Script_Extensions/Lycian.js":730,"./Script_Extensions/Lydian.js":731,"./Script_Extensions/Mahajani.js":732,"./Script_Extensions/Makasar.js":733,"./Script_Extensions/Malayalam.js":734,"./Script_Extensions/Mandaic.js":735,"./Script_Extensions/Manichaean.js":736,"./Script_Extensions/Marchen.js":737,"./Script_Extensions/Masaram_Gondi.js":738,"./Script_Extensions/Medefaidrin.js":739,"./Script_Extensions/Meetei_Mayek.js":740,"./Script_Extensions/Mende_Kikakui.js":741,"./Script_Extensions/Meroitic_Cursive.js":742,"./Script_Extensions/Meroitic_Hieroglyphs.js":743,"./Script_Extensions/Miao.js":744,"./Script_Extensions/Modi.js":745,"./Script_Extensions/Mongolian.js":746,"./Script_Extensions/Mro.js":747,"./Script_Extensions/Multani.js":748,"./Script_Extensions/Myanmar.js":749,"./Script_Extensions/Nabataean.js":750,"./Script_Extensions/Nandinagari.js":751,"./Script_Extensions/New_Tai_Lue.js":752,"./Script_Extensions/Newa.js":753,"./Script_Extensions/Nko.js":754,"./Script_Extensions/Nushu.js":755,"./Script_Extensions/Nyiakeng_Puachue_Hmong.js":756,"./Script_Extensions/Ogham.js":757,"./Script_Extensions/Ol_Chiki.js":758,"./Script_Extensions/Old_Hungarian.js":759,"./Script_Extensions/Old_Italic.js":760,"./Script_Extensions/Old_North_Arabian.js":761,"./Script_Extensions/Old_Permic.js":762,"./Script_Extensions/Old_Persian.js":763,"./Script_Extensions/Old_Sogdian.js":764,"./Script_Extensions/Old_South_Arabian.js":765,"./Script_Extensions/Old_Turkic.js":766,"./Script_Extensions/Oriya.js":767,"./Script_Extensions/Osage.js":768,"./Script_Extensions/Osmanya.js":769,"./Script_Extensions/Pahawh_Hmong.js":770,"./Script_Extensions/Palmyrene.js":771,"./Script_Extensions/Pau_Cin_Hau.js":772,"./Script_Extensions/Phags_Pa.js":773,"./Script_Extensions/Phoenician.js":774,"./Script_Extensions/Psalter_Pahlavi.js":775,"./Script_Extensions/Rejang.js":776,"./Script_Extensions/Runic.js":777,"./Script_Extensions/Samaritan.js":778,"./Script_Extensions/Saurashtra.js":779,"./Script_Extensions/Sharada.js":780,"./Script_Extensions/Shavian.js":781,"./Script_Extensions/Siddham.js":782,"./Script_Extensions/SignWriting.js":783,"./Script_Extensions/Sinhala.js":784,"./Script_Extensions/Sogdian.js":785,"./Script_Extensions/Sora_Sompeng.js":786,"./Script_Extensions/Soyombo.js":787,"./Script_Extensions/Sundanese.js":788,"./Script_Extensions/Syloti_Nagri.js":789,"./Script_Extensions/Syriac.js":790,"./Script_Extensions/Tagalog.js":791,"./Script_Extensions/Tagbanwa.js":792,"./Script_Extensions/Tai_Le.js":793,"./Script_Extensions/Tai_Tham.js":794,"./Script_Extensions/Tai_Viet.js":795,"./Script_Extensions/Takri.js":796,"./Script_Extensions/Tamil.js":797,"./Script_Extensions/Tangut.js":798,"./Script_Extensions/Telugu.js":799,"./Script_Extensions/Thaana.js":800,"./Script_Extensions/Thai.js":801,"./Script_Extensions/Tibetan.js":802,"./Script_Extensions/Tifinagh.js":803,"./Script_Extensions/Tirhuta.js":804,"./Script_Extensions/Ugaritic.js":805,"./Script_Extensions/Vai.js":806,"./Script_Extensions/Wancho.js":807,"./Script_Extensions/Warang_Citi.js":808,"./Script_Extensions/Yezidi.js":809,"./Script_Extensions/Yi.js":810,"./Script_Extensions/Zanabazar_Square.js":811,"./index.js":812,"./unicode-version.js":813};function webpackContext(e){var t=webpackContextResolve(e);return a(t)}function webpackContextResolve(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}webpackContext.keys=function webpackContextKeys(){return Object.keys(r)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=408},69:function(e,t,a){"use strict";a.r(t);var r=a(5),i=a(6),n=a(10),s=a(9),o=a(1),c=(a(834),a(3)),l=function(e){Object(n.a)(EditableItem,e);var t=Object(s.a)(EditableItem);function EditableItem(e){var a;Object(r.a)(this,EditableItem),a=t.call(this,e);var i=e.text?e.text:"";return a.state={isInEditMode:!1,isSavingChanges:!1,textLengthLimit:e.textLengthLimit?e.textLengthLimit:-1,savedText:i,currentText:i},a}return Object(i.a)(EditableItem,[{key:"toggleEditMode",value:function toggleEditMode(){this.setState({isInEditMode:!this.state.isInEditMode})}},{key:"textChange",value:function textChange(e){this.setState({currentText:e.target.value})}},{key:"saveChanges",value:function saveChanges(e){var t=this;e.stopPropagation(),this.setState({isSavingChanges:!0}),this.props.saveChanges(this.state.currentText).then((function(){t.setState({isSavingChanges:!1,isInEditMode:!1,savedText:t.state.currentText})})).catch((function(e){t.setState({isSavingChanges:!1,isInEditMode:!1,currentText:t.state.savedText}),t.props.saveErrorHandler(e)}))}},{key:"cancelChanges",value:function cancelChanges(e){e.stopPropagation(),this.toggleEditMode(),this.setState({currentText:this.state.savedText})}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.apiAccessor&&this.props.apiAccessor.abortRequests()}},{key:"render",value:function render(){var e,t,a=this,r=!1;return this.state.isInEditMode?this.state.isSavingChanges?e="Saving...":(r=!0,e="Save",t=function buttonOnClick(e){return a.saveChanges(e)}):(e="Edit",t=function buttonOnClick(){return a.toggleEditMode()}),Object(c.jsxs)("div",{className:"EditableItem",children:[Object(c.jsxs)("span",{className:"EITextArea",children:[!this.state.isInEditMode&&Object(c.jsx)("span",{className:"EIStaticText",children:this.state.savedText}),this.state.isInEditMode&&Object(c.jsx)("input",{className:"EITextInput",type:"text",value:this.state.currentText,onChange:function onChange(e){return a.textChange(e)},disabled:this.state.isSavingChanges,size:1,maxLength:this.state.textLengthLimit>-1?this.state.textLengthLimit:void 0})]}),Object(c.jsxs)("span",{className:"EIButtonArea",children:[Object(c.jsx)("button",{onClick:t,disabled:this.state.isSavingChanges,className:this.state.isInEditMode?"EISaveButton":"EIEditButton",children:e}),r&&Object(c.jsx)("button",{className:"EICancelChangeButton",onClick:function onClick(e){return a.cancelChanges(e)},children:"Cancel"})]})]})}}]),EditableItem}(o.Component);t.default=l},824:function(e,t,a){},825:function(e,t,a){},827:function(e,t,a){e.exports={doclets:{component:!0},displayName:"AddDatabaseForm",description:"Provides a form for adding a new database record to the db (or a span that tells the user that things\r\nare loading, when the APIAccessor instance has not yet been provided)\n",methods:[],props:[{type:{name:"number"},required:!0,description:"The character limit for database record names",tags:{},name:"dbNameCharLimit"},{type:{name:"func"},required:!0,description:"A function to call when the form is submitted. Should be an asynchronous callback",tags:{param:[{title:"param",description:"The name for the database record |",type:{type:"NameExpression",name:"string"},name:"dbName"},{title:"param",description:"The JSON representation generated by the SQL script",type:{type:"NameExpression",name:"string"},name:"dbJSON"}]},name:"formOnSubmit"},{type:{name:"func"},required:!0,description:"A function to call if the user cancels the database-creation process",tags:{},name:"onCancelHandler"},{type:{name:"func"},required:!0,description:"A function to call if there is an error",tags:{param:[{title:"param",description:"The error text",type:{type:"NameExpression",name:"string"},name:"errorText"}]},name:"onErrorHandler"},{type:{name:"bool"},required:!1,description:"Is this form disabled?",tags:{},name:"disabled"},{type:{name:"bool"},required:!1,description:'Is something still loading (which means we should display "loading" text, instead of the form)?',tags:{},name:"isLoading"},{type:{name:"bool"},required:!1,description:"Are we currently saving the data?",tags:{},name:"isSaving"}],tags:{component:[{title:"component",description:null}]},examples:null}},828:function(e,t,a){},829:function(e,t,a){e.exports={doclets:{component:!0},displayName:"AnchorList",description:"Provides a list of anchor tags for the different entities in the currently viewed database record,\r\nso the user can quickly navigate to each one\n",methods:[],props:[{type:{name:"array"},required:!0,description:'An array of "anchor objects", created by an instance of DbEntityAnchorMapper.',tags:{},name:"anchorObjects"},{type:{name:"object"},required:!1,description:"When a table is the subject of a search for foreign keys, an anchor object for the table \r\ncan be passed in as this prop",tags:{},name:"fkSubjectTable"}],tags:{component:[{title:"component",description:null}]},examples:null}},830:function(e,t,a){},832:function(e,t,a){},833:function(e,t,a){},834:function(e,t,a){},835:function(e,t,a){},838:function(e,t,a){},839:function(e,t,a){},840:function(e,t,a){},841:function(e,t,a){},842:function(e,t,a){},843:function(e,t,a){},844:function(e,t,a){},845:function(e,t,a){e.exports={doclets:{component:!0},displayName:"App",description:"The root component of the project (This must be rendered in a router.)\r\nAs well as rendering the correct component for the current route, this also handles the loading\r\nof the API settings, setting up an APIAccessor instance, and displaying any errors.\n",methods:[],tags:{component:[{title:"component",description:null}]},props:[],examples:null}},846:function(e,t,a){e.exports={doclets:{component:!0},displayName:"DatabaseAddition",description:"Controls the additions of database records to the app's database, and renders an AddDatabaseForm component\n",methods:[],props:[{type:{name:"number"},required:!0,description:"The character limit for database record names",tags:{},name:"dbNameCharLimit"},{type:{name:"func"},required:!0,description:"A function to call if there is an error",tags:{param:[{title:"param",description:"The error text",type:{type:"NameExpression",name:"string"},name:"errorText"}]},name:"onErrorHandler"},{type:{name:"object"},required:!1,description:"An instance of APIAccessor. If this is undefined, a loading message will be shown",tags:{},name:"apiAccessor"}],tags:{component:[{title:"component",description:null}]},examples:null}},847:function(e,t,a){e.exports={doclets:{component:!0},displayName:"DatabaseEntity",description:"Used to display a database entity record (entities from an instance of FilterableSchemaList)\n",methods:[],props:[{type:{name:"string"},required:!0,description:"The CSS-ready hex-color code for this entity type",tags:{},name:"color"},{type:{name:"string"},required:!0,description:"The description of the entity",tags:{},name:"description"},{type:{name:"number"},required:!0,description:"The character limit for entity descriptions",tags:{},name:"descriptionCharLengthLimit"},{type:{name:"string"},required:!0,description:"The ID for this component's root element (generated by EntityElementIdGenerator). This allows \r\nanchor tags to point to this element",tags:{},name:"elementID"},{type:{name:"string"},required:!0,description:"The name of the entity",tags:{},name:"name"},{type:{name:"func"},required:!0,description:"An async function to call, in order to save changes to the entity's description",tags:{param:[{title:"param",description:"The new description for this entity",type:{type:"NameExpression",name:"string"},name:"newDesc"}]},name:"saveDescriptionChanges"},{type:{name:"func"},required:!0,description:"A callback function to call, if there's an error when saving a description",tags:{},name:"saveDescriptionErrorHandler"},{type:{name:"string"},required:!1,description:"If this is a column that is an FK to a table, the schema and table name is provided through \r\nthis, seperated by a period. This string should be formatted as: mySchema.myTable",tags:{},name:"fkToSchemaTableName"},{type:{name:"bool"},required:!1,description:"Is this entity a match to the current filter?",tags:{},name:"isMatch"}],tags:{component:[{title:"component",description:null}]},examples:null}},848:function(e,t,a){e.exports={doclets:{component:!0},displayName:"DatabaseEntityFilterOptions",description:"Provides an interface for filtering through the viewed\r\ndatabase entities\n",methods:[],props:[{type:{name:"func"},required:!0,description:"A function that will run the FK filter, to find tables that have Foreign Keys to the given table",tags:{param:[{title:"param",description:"The table ID of the subject table",type:{type:"NameExpression",name:"number"},name:"tableID"}]},name:"runFkFilter"},{type:{name:"func"},required:!0,description:"A function that will run the text filter",tags:{param:[{title:"param",description:"The filter text for schema names/descriptions |",type:{type:"NameExpression",name:"string"},name:"schemaFilterText"},{title:"param",description:"The filter text for table names/descriptions |",type:{type:"NameExpression",name:"string"},name:"tableFilterText"},{title:"param",description:"The filter text for column names/descriptions |",type:{type:"NameExpression",name:"string"},name:"columnFilterText"},{title:"param",description:"Should descriptions be included in the filter?",type:{type:"NameExpression",name:"boolean"},name:"includeDescriptionText"}]},name:"runTextFilter"},{type:{name:"array"},required:!0,description:"Should be an array of schemas, from a FilterableSchemaList method (or an empty array if these \r\nhave not yet been retrieved)",tags:{},name:"schemas"}],tags:{component:[{title:"component",description:null}]},examples:null}},849:function(e,t,a){e.exports={doclets:{component:!0},displayName:"DatabaseEntityList",description:"Used to display a list of DatabaseEntity components (the list being provided by an instance of\r\nFilterableSchemaList)\n",methods:[],props:[{type:{name:"number"},required:!0,description:"The max length of entity description fields",tags:{},name:"entityDescCharLimit"},{type:{name:"array"},required:!0,description:"An array schemas, taken from an instance of FilterableSchemaList",tags:{},name:"entityList"},{type:{name:"array"},required:!0,description:'An array of objects, representing labelling information for all table entities in the DB.\r\nEach object should have a "label" and "entityID" property.\r\nThis is used when populating the "Foreign Key to" data of columns that have FK constraints',tags:{},name:"tableLabels"},{type:{name:"object"},required:!1,description:"An instance of APIAccessor",tags:{},name:"apiAccessor"},{type:{name:"object"},required:!1,description:"If an FK filter has been run, the entity for the table that is the subject \r\nof that search should be passed here",tags:{},name:"subjectTableEntity"}],tags:{component:[{title:"component",description:null}]},examples:null}},850:function(e,t,a){e.exports={doclets:{component:!0},displayName:"DatabaseListOptions",description:"Provides buttons for actions that can be completed, in relation to database records in the\r\napp's database. (Load, create and delete.)\n",methods:[],props:[{type:{name:"func"},required:!0,description:"An async function that will delete the currently selected database",tags:{},name:"deleteSelectedDatabase"},{type:{name:"number"},required:!0,description:"The ID of the currently selected database (or -1 if nothing is selected)",tags:{},name:"selectedDatabaseID"}],tags:{component:[{title:"component",description:null}]},examples:null}},851:function(e,t,a){e.exports={doclets:{component:!0},displayName:"DatabaseSelection",description:"Used to view the list of databases in the app's database. Also used to add/remove/rename/load databases\n",methods:[],props:[{type:{name:"number"},required:!0,description:"The character limit for database names",tags:{},name:"dbNameCharLimit"},{type:{name:"object"},required:!1,description:"An instance of APIAccessor (if this is undefined, a loading message will be displayed)",tags:{},name:"apiAccessor"}],tags:{component:[{title:"component",description:null}]},examples:null}},852:function(e,t,a){e.exports={doclets:{component:!0},displayName:"DatabaseViewer",description:"Used to view and search through the entities within a database record.\n",methods:[],props:[{type:{name:"number"},required:!0,description:"The character limit for database entity descriptions",tags:{},name:"entityDescCharLimit"},{type:{name:"object"},required:!1,description:"An instance of APIAccessor (if this is undefined, a loading message will be displayed)",tags:{},name:"apiAccessor"}],tags:{component:[{title:"component",description:null}]},examples:null}},853:function(e,t,a){e.exports={doclets:{component:!0},displayName:"EditableItem",description:"Displays the given text, but also provides a way for the user to edit the text, and save the new value\n",methods:[],props:[{type:{name:"func"},required:!0,description:"An async function that will save the new text",tags:{param:[{title:"param",description:"The new value for the text",type:{type:"NameExpression",name:"string"},name:"newValue"}]},name:"saveChanges"},{type:{name:"func"},required:!0,description:"A fuction to call if there is an error",tags:{param:[{title:"param",description:"The error message",type:{type:"NameExpression",name:"string"},name:"error"}]},name:"saveErrorHandler"},{type:{name:"string"},required:!1,description:"The initial text for the element",tags:{},name:"text"},{type:{name:"number"},required:!1,description:"The character limit of the text values",tags:{},name:"textLengthLimit"}],tags:{component:[{title:"component",description:null}]},examples:null}},854:function(e,t,a){e.exports={doclets:{component:!0},displayName:"ErrorDisplay",description:"Displays its child elements as a list of errors\n",methods:[],tags:{component:[{title:"component",description:null}]},props:[],examples:null}},855:function(e,t,a){e.exports={doclets:{component:!0},displayName:"ErrorMessage",description:"Displays the given error message text, and provides a button for dismissing the error\n",methods:[],props:[{type:{name:"func"},required:!0,description:"A function that will dismiss this error.",tags:{},name:"closeButtonOnClick"},{type:{name:"string"},required:!0,description:"The error text to be displayed",tags:{},name:"errorText"}],tags:{component:[{title:"component",description:null}]},examples:null}},856:function(e,t,a){e.exports={doclets:{component:!0},displayName:"SelectableList",description:"Lists its child elements in a UL element. It also allows you to select elements (only one element can be\r\nselected at a time). This can also display a loading message, or an error message.\n",methods:[],props:[{type:{name:"bool"},required:!0,description:"Has this application failed to load something that is critical to generating this list?",tags:{},name:"hasFailedToLoad"},{type:{name:"bool"},required:!0,description:"Is the application still loading something that is required to generate this list?",tags:{},name:"isLoading"},{type:{name:"func"},required:!0,description:"A function that sets the selected index",tags:{param:[{title:"param",description:"The index of the newly selected item",type:{type:"NameExpression",name:"number"},name:"index"}]},name:"setSelectedItemIndex"},{type:{name:"number"},required:!1,description:"The array index of the selected item in the child array",tags:{},name:"selectedItemIndex"}],tags:{component:[{title:"component",description:null}]},examples:null}},857:function(e,t,a){e.exports={doclets:{component:!0},displayName:"TextFileInput",description:"Provides a textarea element, that can also be populated with text from a file, via a file input element\n",methods:[],props:[{type:{name:"func"},required:!0,description:"A function used to handle errors.",tags:{param:[{title:"param",description:"The error message",type:{type:"NameExpression",name:"string"},name:"error"}]},name:"onErrorHandler"},{type:{name:"func"},required:!0,description:"A function that sets the text for the textarea element",tags:{param:[{title:"param",description:"The new text value",type:{type:"NameExpression",name:"string"},name:"text"}]},name:"setFileText"},{type:{name:"bool"},required:!1,description:"Is this input disabled?",tags:{},name:"disabled"},{type:{name:"string"},required:!1,description:"The text for the textarea element",tags:{},name:"fileText"},{type:{name:"bool"},required:!1,description:"Is this input's value required, or can it be left empty?",tags:{},name:"required"}],tags:{component:[{title:"component",description:null}]},examples:null}},859:function(e,t,a){"use strict";a.r(t);var r=a(36),i=a(5),n=a(6),s=a(105),o=a(10),c=a(9),l=a(1),p=(a(830),a(225)),d=a(7),h=a.n(d),u=a(17),m=a(12),b=function(){function Queue(){Object(i.a)(this,Queue),this._queue=[]}return Object(n.a)(Queue,[{key:"enqueue",value:function enqueue(e){this._queue.push(e)}},{key:"dequeue",value:function dequeue(){return this._queue.shift()}},{key:"peek",value:function peek(){return this._queue[0]}},{key:"getLength",value:function getLength(){return this._queue.length}},{key:"isEmpty",value:function isEmpty(){return 0===this.getLength()}}]),Queue}(),j=function(){function JSONValidator(){Object(i.a)(this,JSONValidator),this._errorQueue=new b,this._addError=this._errorQueue.enqueue.bind(this._errorQueue)}return Object(n.a)(JSONValidator,[{key:"hasErrors",value:function hasErrors(){return!this._errorQueue.isEmpty()}},{key:"getNextError",value:function getNextError(){return this._errorQueue.dequeue()}},{key:"validateJSON",value:function validateJSON(e){return!0}},{key:"_validateSingleItem",value:function _validateSingleItem(e,t,a,r){var i=this;r.forEach((function(r){var n=r.hasOwnProperty("optional")&&r.optional;i._validateProperty(e,t,a,r.name,r.type,n,r.canBeEmptyString)}))}},{key:"_propertyIsOfType",value:function _propertyIsOfType(e,t,a){return"array"===a?Array.isArray(e[t]):typeof e[t]===a}},{key:"_validateProperty",value:function _validateProperty(e,t,a,r,i){var n=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=this._getWordWithCapitalisedFirstLetter(a);e.hasOwnProperty(r)&&(e[r]||s&&("string"==typeof e[r]||e[r]instanceof String))?this._propertyIsOfType(e,r,i)||this._addError("".concat(o,"'s ").concat(r," property at index ").concat(t," is not a valid ").concat(i,".")):s||""!==e[r]?n||this._addError("".concat(o," at index ").concat(t," does not have a ").concat(r," property.")):this._addError("".concat(o," at index ").concat(t," has an empty string as a ").concat(r," property."))}},{key:"_getWordWithCapitalisedFirstLetter",value:function _getWordWithCapitalisedFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}}]),JSONValidator}(),y=function(e){Object(o.a)(JSONArrayValidator,e);var t=Object(c.a)(JSONArrayValidator);function JSONArrayValidator(e,a){var r;return Object(i.a)(this,JSONArrayValidator),(r=t.call(this))._itemTypeName=e,r._validProperties=a,r}return Object(n.a)(JSONArrayValidator,[{key:"validateJSON",value:function validateJSON(e){var t=this;try{var a=JSON.parse(e);if(!Array.isArray(a))return this._addError("The provided JSON is not a valid array."),!1;a.forEach((function(e,a){t._validateSingleItem(e,a,t._itemTypeName,t._validProperties)}))}catch(e){this._addError('Unable to parse provided JSON. Failed with error: "'.concat(e.message,'"'))}return!this.hasErrors()}}]),JSONArrayValidator}(j),_=function(e){Object(o.a)(SingleItemJSONValidator,e);var t=Object(c.a)(SingleItemJSONValidator);function SingleItemJSONValidator(e){var a;return Object(i.a)(this,SingleItemJSONValidator),(a=t.call(this))._validProperties=e,a}return Object(n.a)(SingleItemJSONValidator,[{key:"validateJSON",value:function validateJSON(e){try{var t=JSON.parse(e);if(Array.isArray(t))return this._addError("The provided JSON should be a single object, not an array."),!1;this._validateSingleItem(t,0,"JSON",this._validProperties)}catch(e){this._addError('Unable to parse provided JSON. Failed with error: "'.concat(e.message,'"'))}return!this.hasErrors()}}]),SingleItemJSONValidator}(j),S=function(e){Object(o.a)(DatabaseJSONValidator,e);var t=Object(c.a)(DatabaseJSONValidator);function DatabaseJSONValidator(){var e,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object(i.a)(this,DatabaseJSONValidator),(e=t.call(this)).isJSONFromAPI=a;var r=[{name:"name",type:"string"},{name:"schemas",type:"array"}];return a&&r.push({name:"id",type:"number"}),e._singleItemValidator=new _(r),e}return Object(n.a)(DatabaseJSONValidator,[{key:"validateJSON",value:function validateJSON(e){try{this._singleItemValidator.validateJSON(e),this._getErrorsFromSingleItemValidator();var t=JSON.parse(e);t.schemas&&Array.isArray(t.schemas)&&this._validateSchemaArray(t.schemas)}catch(e){this._addError('Unable to parse provided JSON. Failed with error: "'.concat(e.message,'"'))}return!this.hasErrors()}},{key:"_getErrorsFromSingleItemValidator",value:function _getErrorsFromSingleItemValidator(){for(;this._singleItemValidator.hasErrors();)this._addError(this._singleItemValidator.getNextError())}},{key:"_validateSchemaArray",value:function _validateSchemaArray(e){var t=this,a=[{name:"name",type:"string"},{name:"description",type:"string",canBeEmptyString:!0},{name:"tables",type:"array"}];e.forEach((function(e,r){t._validateSingleItem(e,r,"schema",a),Array.isArray(e.tables)&&t._validateTables(e.tables)}))}},{key:"_validateTables",value:function _validateTables(e){var t=this,a=[{name:"name",type:"string"},{name:"description",type:"string",canBeEmptyString:!0},{name:"columns",type:"array"}];e.forEach((function(e,r){t._validateSingleItem(e,r,"table",a),Array.isArray(e.columns)&&t._validateColumns(e.columns)}))}},{key:"_validateColumns",value:function _validateColumns(e){var t=this,a=[{name:"name",type:"string"},{name:"description",type:"string",canBeEmptyString:!0}];this.isJSONFromAPI?a.push({name:"fkToTableId",type:"number",optional:!0}):a.push({name:"fkToTableStr",type:"string",optional:!0});var r=/[^.]+\.[^.]+/;e.forEach((function(e,i){t._validateSingleItem(e,i,"column",a),!t.isJSONFromAPI&&e.hasOwnProperty("fkToTableStr")&&e.fkToTableStr&&!r.test(e.fkToTableStr)&&t._addError("Column at index ".concat(i," has a misshapen fkToTable property value: ").concat(e.fkToTableStr))}))}}]),DatabaseJSONValidator}(j),f=function(){function DatabaseEntityAccessor(e,t,a){Object(i.a)(this,DatabaseEntityAccessor),this._baseURL=e,this._getJSONFromAPI=t,this._addError=a;this._dbIDAndNameJSONValidator=new y("database",[{name:"id",type:"number"},{name:"name",type:"string"}]),this._userDBJSONValidator=new S(!1),this._apiDBJSONValidator=new S(!0)}var e,t,a,r,s;return Object(n.a)(DatabaseEntityAccessor,[{key:"getDatabaseList",value:(s=Object(m.a)(h.a.mark((function _callee(){var e;return h.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this._getJSONFromAPI(this._baseURL+"/databases");case 3:return e=t.sent,this._validateIDAndNameJSON(e),t.abrupt("return",JSON.parse(e));case 8:return t.prev=8,t.t0=t.catch(0),this._addError("Error while loading database list: ".concat(t.t0.message)),t.abrupt("return",[]);case 12:case"end":return t.stop()}}),_callee,this,[[0,8]])}))),function getDatabaseList(){return s.apply(this,arguments)})},{key:"getDatabaseByID",value:(r=Object(m.a)(h.a.mark((function _callee2(e){var t;return h.a.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,this._getJSONFromAPI(this._baseURL+"/databases/"+e);case 3:return t=a.sent,this._validateDatabaseJSON(t,!1),a.abrupt("return",JSON.parse(t));case 8:return a.prev=8,a.t0=a.catch(0),this._addError("Error while loading database record: ".concat(a.t0.message)),a.abrupt("return",{});case 12:case"end":return a.stop()}}),_callee2,this,[[0,8]])}))),function getDatabaseByID(e){return r.apply(this,arguments)})},{key:"createDatabase",value:(a=Object(m.a)(h.a.mark((function _callee3(e){var t,a;return h.a.wrap((function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0,this._validateDatabaseJSON(e,!0),r.next=8;break;case 4:return r.prev=4,r.t0=r.catch(0),this._addError("Error while creating database record: ".concat(r.t0.message)),r.abrupt("return",{});case 8:return r.prev=8,a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:e},r.next=12,this._getJSONFromAPI(this._baseURL+"/databases",a);case 12:t=r.sent,r.next=19;break;case 15:return r.prev=15,r.t1=r.catch(8),this._addError("Error during creation of database record: ".concat(r.t1.message)),r.abrupt("return",{});case 19:r.prev=19,this._validateDatabaseJSON(t,!1),r.next=27;break;case 23:return r.prev=23,r.t2=r.catch(19),this._addError("Error after creation of database record: ".concat(r.t2.message)),r.abrupt("return",{});case 27:return r.abrupt("return",JSON.parse(t));case 28:case"end":return r.stop()}}),_callee3,this,[[0,4],[8,15],[19,23]])}))),function createDatabase(e){return a.apply(this,arguments)})},{key:"updateDatabaseName",value:(t=Object(m.a)(h.a.mark((function _callee4(e,t){var a,r;return h.a.wrap((function _callee4$(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,"string"==typeof t){i.next=3;break}throw new Error("The provided name was not a valid string");case 3:return a={method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:t})},i.next=6,this._getJSONFromAPI(this._baseURL+"/databases/"+e,a);case 6:return r=i.sent,this._validateDatabaseJSON(r,!1),i.abrupt("return",JSON.parse(r));case 11:return i.prev=11,i.t0=i.catch(0),this._addError("Error while updating database record: ".concat(i.t0.message)),i.abrupt("return",{});case 15:case"end":return i.stop()}}),_callee4,this,[[0,11]])}))),function updateDatabaseName(e,a){return t.apply(this,arguments)})},{key:"deleteDatabase",value:(e=Object(m.a)(h.a.mark((function _callee5(e){var t;return h.a.wrap((function _callee5$(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("".concat(this._baseURL,"/databases/").concat(e),{method:"DELETE"});case 3:if(!(t=a.sent).ok){a.next=8;break}return a.abrupt("return",!0);case 8:throw new Error("(".concat(t.status,") ").concat(t.statusText));case 9:a.next=15;break;case 11:return a.prev=11,a.t0=a.catch(0),this._addError("Error while deleting database record: ".concat(a.t0.message,".")),a.abrupt("return",!1);case 15:case"end":return a.stop()}}),_callee5,this,[[0,11]])}))),function deleteDatabase(t){return e.apply(this,arguments)})},{key:"_validateIDAndNameJSON",value:function _validateIDAndNameJSON(e){this._validateJSONWithValidator(e,this._dbIDAndNameJSONValidator)}},{key:"_validateDatabaseJSON",value:function _validateDatabaseJSON(e,t){var a=t?this._userDBJSONValidator:this._apiDBJSONValidator;this._validateJSONWithValidator(e,a)}},{key:"_validateJSONWithValidator",value:function _validateJSONWithValidator(e,t){if(!t.validateJSON(e)){for(var a=t.getNextError();t.hasErrors();)t.getNextError();throw new Error(a)}}}]),DatabaseEntityAccessor}(),g=function(){function DescribableEntityAccessor(e,t,a){Object(i.a)(this,DescribableEntityAccessor),this._baseURL=e,this._getJSONFromAPI=t,this._addError=a;this._validator=new _([{name:"description",type:"string",canBeEmptyString:!0}])}var e;return Object(n.a)(DescribableEntityAccessor,[{key:"updateEntityDescription",value:(e=Object(m.a)(h.a.mark((function _callee(e,t,a){var r,i;return h.a.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,"string"==typeof a){n.next=3;break}throw new Error("The provided description was not a valid string.");case 3:if("string"==typeof e){n.next=5;break}throw new Error("The provided entity name was not a valid string.");case 5:return r={method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({description:a})},n.next=8,this._getJSONFromAPI("".concat(this._baseURL,"/").concat(e,"/update_description/").concat(t),r);case 8:return i=n.sent,this._validateDescriptionJSON(i),n.abrupt("return",JSON.parse(i));case 13:return n.prev=13,n.t0=n.catch(0),this._addError("Error while updating record: ".concat(n.t0.message)),n.abrupt("return",{});case 17:case"end":return n.stop()}}),_callee,this,[[0,13]])}))),function updateEntityDescription(t,a,r){return e.apply(this,arguments)})},{key:"_validateDescriptionJSON",value:function _validateDescriptionJSON(e){if(!this._validator.validateJSON(e)){for(var t=this._validator.getNextError();this._validator.hasErrors();)this._validator.getNextError();throw new Error(t)}}}]),DescribableEntityAccessor}(),x=function(){function APIAccessor(e,t){Object(i.a)(this,APIAccessor),this._baseURL=e,this._onErrorCallback=t,this._abortControllers=[],this._errorQueue=new b,this._addError=this._errorQueue.enqueue.bind(this._errorQueue),this._databaseEntityAccessor=new f(this._baseURL,this._getJSONFromAPI.bind(this),this._addError),this._describableEntityAccessor=new g(this._baseURL,this._getJSONFromAPI.bind(this),this._addError)}var e,t,a,r,s,o,c;return Object(n.a)(APIAccessor,[{key:"_getNewAbortController",value:function _getNewAbortController(){this._abortControllers=this._abortControllers.filter((function(e){return!e.signal.aborted}));var e=new AbortController;return this._abortControllers.push(e),e}},{key:"abortRequests",value:function abortRequests(){this._abortControllers.forEach((function(e){return e.abort()}))}},{key:"_getJSONFromAPI",value:(c=Object(m.a)(h.a.mark((function _callee(e){var t,a,r,i=arguments;return h.a.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:{},a=this._getNewAbortController(),n.next=4,fetch(e,Object(u.a)(Object(u.a)({},t),{},{signal:a.signal}));case 4:if((r=n.sent).ok){n.next=7;break}throw new Error("(".concat(r.status,") ").concat(r.statusText));case 7:return n.next=9,r.text();case 9:return n.abrupt("return",n.sent);case 10:case"end":return n.stop()}}),_callee,this)}))),function _getJSONFromAPI(e){return c.apply(this,arguments)})},{key:"hasErrors",value:function hasErrors(){return!this._errorQueue.isEmpty()}},{key:"getNextError",value:function getNextError(){return this._errorQueue.dequeue()}},{key:"handleErrors",value:function handleErrors(){if(this.hasErrors())throw this._onErrorCallback(),new Error("There was an error accessing the API. Use the getNextError() method for more details.")}},{key:"getDatabaseList",value:(o=Object(m.a)(h.a.mark((function _callee2(){var e;return h.a.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._databaseEntityAccessor.getDatabaseList();case 2:return e=t.sent,this.handleErrors(),t.abrupt("return",e);case 5:case"end":return t.stop()}}),_callee2,this)}))),function getDatabaseList(){return o.apply(this,arguments)})},{key:"getDatabaseByID",value:(s=Object(m.a)(h.a.mark((function _callee3(e){var t;return h.a.wrap((function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this._databaseEntityAccessor.getDatabaseByID(e);case 2:return t=a.sent,this.handleErrors(),a.abrupt("return",t);case 5:case"end":return a.stop()}}),_callee3,this)}))),function getDatabaseByID(e){return s.apply(this,arguments)})},{key:"createDatabase",value:(r=Object(m.a)(h.a.mark((function _callee4(e){var t;return h.a.wrap((function _callee4$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this._databaseEntityAccessor.createDatabase(e);case 2:return t=a.sent,this.handleErrors(),a.abrupt("return",t);case 5:case"end":return a.stop()}}),_callee4,this)}))),function createDatabase(e){return r.apply(this,arguments)})},{key:"updateDatabaseName",value:(a=Object(m.a)(h.a.mark((function _callee5(e,t){var a;return h.a.wrap((function _callee5$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this._databaseEntityAccessor.updateDatabaseName(e,t);case 2:return a=r.sent,this.handleErrors(),r.abrupt("return",a);case 5:case"end":return r.stop()}}),_callee5,this)}))),function updateDatabaseName(e,t){return a.apply(this,arguments)})},{key:"deleteDatabase",value:(t=Object(m.a)(h.a.mark((function _callee6(e){var t;return h.a.wrap((function _callee6$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this._databaseEntityAccessor.deleteDatabase(e);case 2:return t=a.sent,this.handleErrors(),a.abrupt("return",t);case 5:case"end":return a.stop()}}),_callee6,this)}))),function deleteDatabase(e){return t.apply(this,arguments)})},{key:"updateEntityDescription",value:(e=Object(m.a)(h.a.mark((function _callee7(e,t,a){var r;return h.a.wrap((function _callee7$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this._describableEntityAccessor.updateEntityDescription(e,t,a);case 2:return r=i.sent,this.handleErrors(),i.abrupt("return",r);case 5:case"end":return i.stop()}}),_callee7,this)}))),function updateEntityDescription(t,a,r){return e.apply(this,arguments)})}]),APIAccessor}(),v=a(147),E=a(150),O=a(156),T=a(154),C=a(155),N=a(3),D=function(e){Object(o.a)(App,e);var t=Object(c.a)(App);function App(e){var a;return Object(i.a)(this,App),(a=t.call(this,e)).state={selectedDatabaseIndex:-1,apiSettings:{apiBaseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_BASE_URL,dbNameCharLimit:Number(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DB_NAME_CHAR_LIMIT),entityDescCharLimit:Number(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ENTITY_DESC_CHAR_LIMIT)},apiAccessor:new x(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_BASE_URL,a.onErrorHandler.bind(Object(s.a)(a))),databaseList:[],errorList:[]},a}return Object(n.a)(App,[{key:"onErrorHandler",value:function onErrorHandler(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=[],a=this.state.apiAccessor;if(a)for(;a.hasErrors();){var i=a.getNextError();console.error(i),t.push(i)}e&&(console.error(e),t.push(e)),this.setState({errorList:[].concat(Object(r.a)(this.state.errorList),t)})}},{key:"errorMessageMapper",value:function errorMessageMapper(e,t){var a=this;return Object(N.jsx)(T.default,{errorText:e,closeButtonOnClick:function closeFunc(){var e=a.state.errorList;e.splice(t,1),a.setState({errorList:e})}.bind(this)},t)}},{key:"render",value:function render(){var e=this.state.apiSettings,t=this.state.apiAccessor;return Object(N.jsxs)("div",{className:"App",children:[Object(N.jsx)(C.default,{children:this.state.errorList.map(this.errorMessageMapper.bind(this))}),Object(N.jsx)("header",{children:Object(N.jsx)("h1",{children:"SchemaShovel Web"})}),Object(N.jsxs)(p.b,{children:[Object(N.jsx)(p.a,{exact:!0,path:"/create",children:Object(N.jsx)(E.default,{apiAccessor:t,onErrorHandler:this.onErrorHandler.bind(this),dbNameCharLimit:e.dbNameCharLimit})}),Object(N.jsx)(p.a,{path:"/view/:id",children:Object(N.jsx)(O.default,{apiAccessor:t,entityDescCharLimit:e.entityDescCharLimit})}),Object(N.jsx)(p.a,{path:"/",children:Object(N.jsx)(v.default,{apiAccessor:t,dbNameCharLimit:e.dbNameCharLimit})})]})]})}}]),App}(l.Component);t.default=Object(p.c)(D)}},[[228,1,2]]]);